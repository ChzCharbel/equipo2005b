<!--dropdown de ciclo escolar-->
<div class="dropdown me-auto">
  <a
    class="nav-link dropdown-toggle text-light"
    href="#"
    role="button"
    data-bs-toggle="dropdown"
    aria-expanded="false"
  >
    Ciclo escolar
  </a>
  <ul class="dropdown-menu" id="dropdown-menu">
    <div class="overflow-auto" style="max-height: 100px">
      <% for (ciclo of ciclosEscolares) { %>
      <li>
        <a class="dropdown-item" href="/<%= ciclo.idCicloEscolar %>/<%= titulo %>"> <%= ciclo.idCicloEscolar %> </a>
      </li>
      <% } %>
      <li><a class="dropdown-item" href="/2020-2/<%= titulo %>">2020-2</a></li>
      <li><a class="dropdown-item" href="/2021-1/<%= titulo %>">2021-1</a></li>
      <li><a class="dropdown-item" href="/2021-2/<%= titulo %>">2021-2</a></li>
      <li><a class="dropdown-item" href="/2022-1/<%= titulo %>">2022-1</a></li>
      <li><a class="dropdown-item" href="/2022-2/<%= titulo %>">2022-2</a></li>
      <li><a class="dropdown-item" href="/2023-1/<%= titulo %>">2023-1</a></li>
      <li><a class="dropdown-item" href="/2023-2/<%= titulo %>">2023-2</a></li>
      <li><a class="dropdown-item" href="/2024-1/<%= titulo %>">2024-1</a></li>
      <li><a class="dropdown-item" href="/2024-2/<%= titulo %>">2024-2</a></li>
      <li><hr class="dropdown-divider" /></li>
    </div>

    <li>
      <a class="dropdown-item text-dark fw-bold" href="#" id="add-cycle">
        <i class="bi bi-plus-circle-fill"></i> Agregar nuevo
      </a>
    </li>
  </ul>
</div>

<script>
  document
    .getElementById("add-cycle")
    .addEventListener("click", function (event) {
      event.preventDefault();
      const newCycle = prompt("Ingrese el nuevo ciclo escolar:");
      if (newCycle) {
        const dropdownMenu = document.getElementById("dropdown-menu");
        const divider =
          dropdownMenu.querySelector(".dropdown-divider").parentElement; // Selecciono el <li> que contiene el <hr>
        const newItem = document.createElement("li");
        newItem.innerHTML = `<a class="dropdown-item" href="#">${newCycle}</a>`;
        dropdownMenu.insertBefore(newItem, divider); // Inserto antes del <li> que contiene el divider
      }
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
